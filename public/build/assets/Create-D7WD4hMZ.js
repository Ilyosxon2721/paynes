import{r as i,a as d,o as p,b as t,d as c,w as m,f as g,k as V,i as x,j as u,B as v,g as k,l as w,t as f,u as S,h as b,z as C}from"./app-DmhU3QBQ.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"create-incash-page"},B={class:"page-header"},U={class:"form-card"},q={class:"form-row"},D={class:"form-group"},M={class:"form-group"},E={class:"form-group"},I={key:0,class:"alert alert-error"},T={class:"form-actions"},j=["disabled"],z={__name:"Create",setup(R){const _=S(),o=i({account_number:"",amount:0,type:""}),n=i(null),r=i(!1);async function y(){var l,e;n.value=null,r.value=!0;try{(await C.post("/incashes",o.value)).data.success&&_.push({name:"Incashes"})}catch(s){n.value=((e=(l=s.response)==null?void 0:l.data)==null?void 0:e.message)||"Ошибка при создании инкассации"}finally{r.value=!1}}return(l,e)=>{const s=g("router-link");return p(),d("div",h,[t("div",B,[e[4]||(e[4]=t("h1",{class:"page-title"},"Новая инкассация",-1)),c(s,{to:"/incashes",class:"btn btn-secondary"},{default:m(()=>[...e[3]||(e[3]=[b("← Назад",-1)])]),_:1})]),t("div",U,[t("form",{onSubmit:V(y,["prevent"])},[t("div",q,[t("div",D,[e[6]||(e[6]=t("label",{for:"account_number"},"Счет *",-1)),u(t("select",{id:"account_number","onUpdate:modelValue":e[0]||(e[0]=a=>o.value.account_number=a),class:"form-select",required:""},[...e[5]||(e[5]=[k('<option value="" data-v-3405c421>Выберите счет</option><option value="001" data-v-3405c421>001 - Основной счет</option><option value="002" data-v-3405c421>002 - Резервный счет</option><option value="003" data-v-3405c421>003 - Депозитный счет</option><option value="840" data-v-3405c421>840 - USD счет</option>',5)])],512),[[v,o.value.account_number]])]),t("div",M,[e[8]||(e[8]=t("label",{for:"type"},"Тип операции *",-1)),u(t("select",{id:"type","onUpdate:modelValue":e[1]||(e[1]=a=>o.value.type=a),class:"form-select",required:""},[...e[7]||(e[7]=[t("option",{value:""},"Выберите тип",-1),t("option",{value:"income"},"Приход",-1),t("option",{value:"expense"},"Расход",-1)])],512),[[v,o.value.type]])]),t("div",E,[e[9]||(e[9]=t("label",{for:"amount"},"Сумма *",-1)),u(t("input",{id:"amount","onUpdate:modelValue":e[2]||(e[2]=a=>o.value.amount=a),type:"number",step:"0.01",class:"form-input",placeholder:"0.00",required:""},null,512),[[w,o.value.amount,void 0,{number:!0}]])])]),n.value?(p(),d("div",I,f(n.value),1)):x("",!0),t("div",T,[t("button",{type:"submit",class:"btn btn-primary",disabled:r.value},f(r.value?"Создание...":"Создать инкассацию"),9,j),c(s,{to:"/incashes",class:"btn btn-secondary"},{default:m(()=>[...e[10]||(e[10]=[b("Отмена",-1)])]),_:1})])],32)])])}}},G=N(z,[["__scopeId","data-v-3405c421"]]);export{G as default};
