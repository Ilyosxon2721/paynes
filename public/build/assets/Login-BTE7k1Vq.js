import{q as w,r as c,a as t,o as l,b as e,p as _,j as b,h as p,i as g,k as f,n as m,t as n,s as i,u as y}from"./app-CmJRaKAb.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"login-container"},x={class:"login-card"},S={class:"form-group"},V={key:0,class:"error-message"},B={class:"form-group"},C={key:0,class:"error-message"},D={key:0,class:"alert alert-error"},q=["disabled"],M={__name:"Login",setup(N){const v=y(),r=w(),o=c({login:"",password:""}),a=c({});async function h(){var d;if(a.value={},!o.value.login){a.value.login="Логин обязателен";return}if(!o.value.password){a.value.password="Пароль обязателен";return}try{await r.login(o.value),((d=r.user)==null?void 0:d.position)==="cashier"?v.push({name:"CashierDashboard"}):v.push({name:"Dashboard"})}catch(s){console.error("Login error:",s)}}return(d,s)=>(l(),t("div",k,[e("div",x,[s[4]||(s[4]=_('<div class="login-header" data-v-96ae7d8f><div class="logo-container" data-v-96ae7d8f><svg class="logo-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" data-v-96ae7d8f><path d="M 50 150 L 50 50 Q 50 30 70 30 L 120 30 Q 150 30 150 60 Q 150 90 120 90 L 80 90 L 120 130 L 80 130 Z" fill="#1A77C9" stroke="none" data-v-96ae7d8f></path></svg><h1 class="brand-name" data-v-96ae7d8f>Paynes</h1><p class="brand-tagline" data-v-96ae7d8f>Комфортные платежи</p></div><p data-v-96ae7d8f>Вход в систему</p></div>',1)),e("form",{onSubmit:b(h,["prevent"]),class:"login-form"},[e("div",S,[s[2]||(s[2]=e("label",{for:"login"},"Логин",-1)),g(e("input",{id:"login","onUpdate:modelValue":s[0]||(s[0]=u=>o.value.login=u),type:"text",class:m(["form-input",{error:a.value.login}]),placeholder:"Введите логин",required:""},null,2),[[f,o.value.login]]),a.value.login?(l(),t("span",V,n(a.value.login),1)):p("",!0)]),e("div",B,[s[3]||(s[3]=e("label",{for:"password"},"Пароль",-1)),g(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=u=>o.value.password=u),type:"password",class:m(["form-input",{error:a.value.password}]),placeholder:"Введите пароль",required:""},null,2),[[f,o.value.password]]),a.value.password?(l(),t("span",C,n(a.value.password),1)):p("",!0)]),i(r).error?(l(),t("div",D,n(i(r).error),1)):p("",!0),e("button",{type:"submit",class:"btn btn-primary",disabled:i(r).loading},n(i(r).loading?"Вход...":"Войти"),9,q)],32)])]))}},U=L(M,[["__scopeId","data-v-96ae7d8f"]]);export{U as default};
