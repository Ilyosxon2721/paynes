import{r as i,a as p,o as c,b as t,d as m,w as f,f as h,k as g,i as x,j as u,l as d,t as v,u as V,h as b,z as k}from"./app-DmhU3QBQ.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"create-credit-page"},N={class:"page-header"},q={class:"form-card"},B={class:"form-group"},S={class:"form-row"},U={class:"form-group"},D={class:"form-group"},E={key:0,class:"alert alert-error"},M={class:"form-actions"},T=["disabled"],j={__name:"Create",setup(z){const _=V(),s=i({recipient:"",branch:"",amount:0}),r=i(null),n=i(!1);async function y(){var l,e;r.value=null,n.value=!0;try{(await k.post("/credits",s.value)).data.success&&_.push({name:"Credits"})}catch(o){r.value=((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.message)||"Ошибка при создании кредита"}finally{n.value=!1}}return(l,e)=>{const o=h("router-link");return c(),p("div",C,[t("div",N,[e[4]||(e[4]=t("h1",{class:"page-title"},"Новый кредит",-1)),m(o,{to:"/credits",class:"btn btn-secondary"},{default:f(()=>[...e[3]||(e[3]=[b("← Назад",-1)])]),_:1})]),t("div",q,[t("form",{onSubmit:g(y,["prevent"])},[t("div",B,[e[5]||(e[5]=t("label",{for:"recipient"},"Получатель *",-1)),u(t("input",{id:"recipient","onUpdate:modelValue":e[0]||(e[0]=a=>s.value.recipient=a),type:"text",class:"form-input",placeholder:"ФИО получателя",required:""},null,512),[[d,s.value.recipient]])]),t("div",S,[t("div",U,[e[6]||(e[6]=t("label",{for:"branch"},"Филиал *",-1)),u(t("input",{id:"branch","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.branch=a),type:"text",class:"form-input",placeholder:"Филиал",required:""},null,512),[[d,s.value.branch]])]),t("div",D,[e[7]||(e[7]=t("label",{for:"amount"},"Сумма кредита *",-1)),u(t("input",{id:"amount","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.amount=a),type:"number",step:"0.01",class:"form-input",placeholder:"0.00",required:""},null,512),[[d,s.value.amount,void 0,{number:!0}]])])]),r.value?(c(),p("div",E,v(r.value),1)):x("",!0),t("div",M,[t("button",{type:"submit",class:"btn btn-primary",disabled:n.value},v(n.value?"Создание...":"Создать кредит"),9,T),m(o,{to:"/credits",class:"btn btn-secondary"},{default:f(()=>[...e[8]||(e[8]=[b("Отмена",-1)])]),_:1})])],32)])])}}},A=w(j,[["__scopeId","data-v-f8e8274f"]]);export{A as default};
